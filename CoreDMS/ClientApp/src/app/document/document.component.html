<h2>File</h2>

<div *ngIf="document">
    <form style="border: 1px solid #cecece; padding: 2px;  margin-bottom: 3px;">
        <div class="form-group row">
            <label class="col-sm-2 col-form-label">Id</label>
            <div class="col-sm-8">
                <input name="idInput-{{document.file.id}}" [(ngModel)]="document.file.id" readonly="readonly" class="form-control" [ngModelOptions]="{standalone: true}" />
            </div>
            <button class="btn btn-primary" type="button" onclick="myFunction()"><i class="far fa-clipboard"></i></button>
        </div>
        <div class="form-group row">
            <label class="col-sm-2 col-form-label">Filename</label>
            <div class="col-sm-8">
                <input name="filenameInput-{{document.file.id}}" [(ngModel)]="document.file.filename" readonly="readonly" class="form-control" [ngModelOptions]="{standalone: true}" />
            </div>
        </div>
        <div class="form-group row">
            <label class="col-sm-2 col-form-label">Hash</label>
            <div class="col-sm-8">
                <input name="hashInput-{{document.file.id}}" [(ngModel)]="document.file.hash" readonly="readonly" class="form-control" [ngModelOptions]="{standalone: true}" />
            </div>
        </div>
        <div class="form-group row">
            <label class="col-sm-2 col-form-label">CreatedAt</label>
            <div class="col-sm-8">
                <input name="createdAtInput-{{document.file.id}}" [(ngModel)]="document.file.createdAt" readonly="readonly" class="form-control" [ngModelOptions]="{standalone: true}"/>
            </div>
        </div>
        <div class="form-group row">
            <label class="col-sm-2 col-form-label">UpdatedAt</label>
            <div class="col-sm-8">
                <input name="updatedAtInput-{{document.file.id}}" [(ngModel)]="document.file.updatedAt" readonly="readonly" class="form-control" [ngModelOptions]="{standalone: true}"/>
            </div>
        </div>
        <div class="form-group row">
            <label class="col-sm-2 col-form-label">View</label>
            <div class="col-sm-8">
                <a class="btn btn-primary" role="button" href="/file/get/{{document.file.id}}" target="_blank">Link</a>
            </div>
        </div>
        <div class="form-group row">
            <label class="col-sm-2 col-form-label">Tags</label>
            <div class="col-sm-8">
                <a *ngFor="let fileTag of document.file.fileTag" 
                    class="btn btn-primary" href="/Tag/Detail/{{fileTag.tag.name}}" target="_blank">{{fileTag.tag.name}}</a>
            </div>
        </div>
    </form>

    <!-- property management -->
    <div style="clear: both; border: 1px solid #cecece; margin-bottom: 3px; padding: 5px;">
        <form [formGroup]="documentDataForm" (ngSubmit)="onSubmit()">
            <input type="hidden" formControlName="documentId" />
            <div class="form-group row">
                <label class="col-sm-2 col-form-label">Title</label>
                <div class="col-sm-8">
                    <input id="filetitle" type="text" formControlName="documentTitle" class="form-control">
                </div>
            </div>
            <div class="form-group row">
                <label class="col-sm-2 col-form-label">Status</label>
                <div class="col-sm-8">
                    <mat-select formControlName="documentState">
                        <mat-option *ngFor="let state of document.fileStates" [value]="state.value">
                          {{state.text}}
                        </mat-option>
                    </mat-select>
                </div>
            </div>
            <div class="form-group row">
                <label class="col-sm-2 col-form-label">Tags</label>
                <div class="col-sm-8">
                    <input formControlName="documentTags" id="tags" type="text" class="form-control">
                </div>
            </div>
            <div class="form-group row">
                <label class="col-sm-2 col-form-label">Note</label>
                <div class="col-sm-8">
                    <textarea class="form-control" formControlName="documentNote"></textarea>
                </div>
            </div>
            <div class="form-group row">
                <label class="col-sm-2 col-form-label">Document Date</label>
                <div class="col-sm-2">
                    <mat-form-field>
                        <input matInput [matDatepicker]="picker3" formControlName="documentDate">
                        <mat-datepicker-toggle matSuffix [for]="picker3"></mat-datepicker-toggle>
                        <mat-datepicker #picker3></mat-datepicker>
                    </mat-form-field>
                </div>
            </div>
            <div>
                <button type="submit" class="btn btn-primary">Speichern</button>
            </div>
        </form>
    </div>
</div>